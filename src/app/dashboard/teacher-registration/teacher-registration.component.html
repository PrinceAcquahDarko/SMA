<div class="main">
    <section class="section1">
        <mat-toolbar color="primary">
       
            <span>My App</span>
    
         
            </mat-toolbar>
    </section>
    <section class="section2">  
        <mat-card class="card">
            <h2>teacherRegisterForm</h2>         
            <mat-card-content>
                <form [formGroup] = "teacherRegisterForm" (ngSubmit)="onSubmit()" *ngIf="teachersData$ | async as teacherData">
                    <div>
                        <mat-form-field appearance="fill">
                       
                            <mat-select  name="state" formControlName="status" id="">
                            <mat-option value="" disabled selected hidden> select status
                            </mat-option>
                            <mat-option  value="Sbjeuct Teacher only" > Subject Teacher only</mat-option >
                            <mat-option  value="Class Teacher and subject teacher"> Class Teacher and subject teacher</mat-option >
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="fill">
                     
                            <mat-select  name="classTeacher" formControlName="classTeacher" id="" *ngIf="teachersData$ | async as teacherData">
                                <mat-option value="" disabled selected hidden>select Class</mat-option>
                                <mat-option  *ngFor="let item of teacherData" [value]="item.class">{{item.class}}</mat-option>
                                <!-- <option value="JHS 2" > JHS 2</option> -->
                            </mat-select >
                        </mat-form-field>
                    </div>
            
            
                    <div formArrayName="subjectGroup" *ngFor="let classes of subjects.controls; let i=index">
                        <div [formGroupName] = "i" >
                            <mat-form-field appearance="fill">
                        
                            <mat-select name="class" formControlName="class" id="" *ngIf="teachersData$ | async as teacherData">
                                <mat-option value="" disabled selected hidden>select Class you lecture</mat-option> 
                                <mat-option *ngFor="let item of teacherData" [value]="item.class"> {{item.class}}</mat-option>
                            </mat-select >
                        </mat-form-field>
                        
                            <div  formArrayName="subjects"   *ngFor="let class of classes.get('subjects').controls; let i=index" >
                                <div  [formGroupName] = "i" *ngIf="classWithSubjects$ | async as classWithSubjects">
                                    <mat-form-field appearance="fill">
    
                                    <mat-select name="subject"  formControlName="subject" id="" >
                                        <mat-option value="" disabled selected hidden>select subject</mat-option>
                                        <mat-option *ngFor="let subjects of classWithSubjects" [value]="subjects.subject" > {{subjects.subject }}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                </div>
                            </div>
                             <mat-icon  (click)="addIndividualSubs(classes)"  *ngIf="classWithSubjects$ | async as classWithSubjects">menu</mat-icon>

                            <!-- <button mat-raised-button (click)="addIndividualSubs(classes)"  *ngIf="classWithSubjects$ | async as classWithSubjects">add another subject</button> -->
                        </div>
                    </div>
                    <mat-card-actions>
                        <button mat-raised-button (click)="addSubjects()">add another class you lecture</button>
                    </mat-card-actions>
                    <mat-card-actions>
                        <button mat-raised-button  [disabled]="teacherRegisterForm.invalid">submit</button>
                    </mat-card-actions>
 
                </form>
                
            </mat-card-content>
           
          </mat-card>
       
</section>
    <section class="section3">
        <mat-toolbar color="primary">
            <div class="foot">
                <small>&copy; 2021 myapps.com</small>
            </div>
          
          
            </mat-toolbar>
    </section>
  
</div>